# Indian Classical Music Terminal Instrument ðŸŽµ

A Python-based terminal musical instrument for playing Indian classical music notes (sargam).

## Features

- **Live Play Mode**: Play notes in real-time using keyboard keys
- **Recording Mode**: Record your musical sessions with precise timing
- **Playback Mode**: Replay recordings with original timing
- **Save/Load**: Persist recordings as JSON files
- **Rich TUI**: Beautiful terminal user interface using Rich library
- **Asynchronous Audio**: Non-blocking sound playback

## Key Mappings

| Key | Note | Sargam |
|-----|------|--------|
| A   | Sa   | Sa     |
| S   | Re   | Re     |
| D   | Ga   | Ga     |
| F   | Ma   | Ma     |
| G   | Pa   | Pa     |
| H   | Dha  | Dha    |
| J   | Ni   | Ni     |
| K   | Sa'  | Sa'    |

## Installation

1. Install Python 3.10 or higher
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```
3. Run setup script:
   ```bash
   python setup.py
   ```
4. Add your .wav sound files to the `sounds/` directory:
   - `sa.wav` - Sa note
   - `re.wav` - Re note  
   - `ga.wav` - Ga note
   - `ma.wav` - Ma note
   - `pa.wav` - Pa note
   - `dha.wav` - Dha note
   - `ni.wav` - Ni note
   - `sa_high.wav` - Higher octave Sa note

## Usage

Run the main application:
```bash
python main.py
```

### Controls

**Menu Navigation:**
- Press number keys (1-6) to select menu options
- ESC: Return to main menu

**Live Play Mode:**
- Press A,S,D,F,G,H,J,K to play notes
- ESC: Return to menu

**Recording Mode:**  
- Press A,S,D,F,G,H,J,K to record notes
- SPACE: Stop recording
- ESC: Cancel recording

**Playback Mode:**
- ESC: Return to menu

## Directory Structure

```
â”œâ”€â”€ main.py              # Main application
â”œâ”€â”€ setup.py            # Setup script
â”œâ”€â”€ requirements.txt    # Dependencies
â”œâ”€â”€ README.md          # This file
â”œâ”€â”€ sounds/            # Audio files (.wav)
â”‚   â”œâ”€â”€ sa.wav
â”‚   â”œâ”€â”€ re.wav
â”‚   â”œâ”€â”€ ga.wav
â”‚   â”œâ”€â”€ ma.wav
â”‚   â”œâ”€â”€ pa.wav
â”‚   â”œâ”€â”€ dha.wav
â”‚   â”œâ”€â”€ ni.wav
â”‚   â””â”€â”€ sa_high.wav
â””â”€â”€ recordings/        # Saved recordings (.json)
    â””â”€â”€ recording_20241201_143022.json
```

## Sound Files

You need to provide your own .wav files for the notes. You can:
1. Record them yourself using any audio recording software
2. Download from free sound libraries
3. Use synthetic tones generated by audio software

Make sure the files are:
- In WAV format
- Mono or stereo
- Sample rate: 22050 Hz or 44100 Hz
- 16-bit depth recommended

## Technical Details

### Recording Format

Recordings are saved as JSON files with the following structure:
```json
{
  "timestamp": "2024-12-01T14:30:22.123456",
  "notes": [
    ["sa", 0.0],
    ["re", 0.5],
    ["ga", 1.2],
    ["ma", 1.8]
  ]
}
```

Each note entry contains the note name and timestamp (in seconds from recording start).

## Troubleshooting

**Audio Issues:**
- Ensure pygame is properly installed
- Check that your system supports audio playback
- Verify .wav files are in the correct format

**Keyboard Issues:**
- Run with administrator/sudo privileges if needed
- Some terminals may not capture all key events

**Performance Issues:**
- Reduce audio buffer size in SoundManager
- Close other audio applications
- Use lower quality audio files if needed

## Requirements

- Python 3.10+
- pygame 2.1.0+
- rich 13.0.0+
- keyboard 0.13.5+

## License

This project is open source. Feel free to modify and distribute.

## Contributing

Contributions welcome! Please feel free to submit pull requests or open issues.

---

ðŸŽµ Happy music making! ðŸŽµ
